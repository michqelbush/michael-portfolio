@import "tailwindcss";
@import 'maplibre-gl/dist/maplibre-gl.css';

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

.container { @apply max-w-[720px] mx-auto px-4; }
.section   { @apply py-12; }
.card      { @apply bg-white/5 border border-white/10 shadow-sm rounded-2xl; }
.btn       { @apply inline-flex items-center gap-2 rounded-xl border border-white/10 px-4 py-2 hover:border-white/20 active:scale-[.98] transition; }
.pill      { @apply inline-flex items-center rounded-lg px-2.5 py-1 text-sm border border-white/10 bg-white/5; }
.subtle    { @apply text-gray-300; }
html,body  { @apply bg-neutral-950 text-neutral-100; }

/*Don't let the attribution text get selected while dragging */
.maplibregl-ctrl-attrib,
.maplibregl-ctrl-attrib * {
  -webkit-user-select: none;
  user-select: none;
}

/*Remove iOS/Android tap highlight */
.maplibregl-ctrl-attrib-button,
.maplibregl-ctrl-attrib a {
  -webkit-tap-highlight-color: transparent;
}

.maplibregl-ctrl-attrib-button:focus,
.maplibregl-ctrl-attrib-button:focus-visible,
.maplibregl-ctrl-attrib a:focus,
.maplibregl-ctrl-attrib a:focus-visible {
  outline: none;
  box-shadow: none;
}

.maplibregl-ctrl-attrib,
.maplibregl-ctrl-attrib .maplibregl-ctrl-attrib-inner {
  background: transparent !important;
  backdrop-filter: none !important;
  border: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
}

/*keep it snug in the corner */
.maplibregl-ctrl-bottom-right .maplibregl-ctrl {
  margin: 0 2px 2px 0;
}

/*tone the text down a bit on dark maps */
.maplibregl-ctrl-attrib,
.maplibregl-ctrl-attrib a {
  color: rgba(255,255,255,.65) !important;
  text-shadow: 0 1px 1px rgba(0,0,0,.35);
}

/* Smaller attribution text */
.maplibregl-ctrl-attrib,
.maplibregl-ctrl-attrib a {
  font-size: 1px !important;
  line-height: .3 !important;
}

/* tighten link spacing a touch */
.maplibregl-ctrl-attrib a + a { margin-left: .35rem; }

.map-fade::after {
  content: "";
  position: absolute;
  inset-inline: 0;
  bottom: 0;
  height: 20%;                 /* raise/lower to cover more/less */
  pointer-events: none;
  z-index: 10;                 /* sits above canvas */
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,0) 0,
    rgba(0,0,0,0) calc(100% - 32px),   /* start fade ~32px from bottom */
    rgba(0,0,0,0.55) calc(100% - 16px),/* quick ramp */
    var(--background) 100%             /* solid at bottom */
  );
}

/* Light mode version */
@media (prefers-color-scheme: light) {
  .map-fade::after {
    background: linear-gradient(
      to bottom,
      rgba(255,255,255,0) 0%,
      rgba(250,250,250,0.6) 55%,
      var(--background) 100%
    );
  }
}

/* Keep controls above the overlay */
.map-fade .maplibregl-control-container {
  position: absolute;
  z-index: 20;
}